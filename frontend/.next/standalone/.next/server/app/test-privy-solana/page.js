(()=>{var e={};e.id=6901,e.ids=[6901],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},39491:e=>{"use strict";e.exports=require("assert")},14300:e=>{"use strict";e.exports=require("buffer")},6113:e=>{"use strict";e.exports=require("crypto")},82361:e=>{"use strict";e.exports=require("events")},57147:e=>{"use strict";e.exports=require("fs")},13685:e=>{"use strict";e.exports=require("http")},95687:e=>{"use strict";e.exports=require("https")},98188:e=>{"use strict";e.exports=require("module")},41808:e=>{"use strict";e.exports=require("net")},72254:e=>{"use strict";e.exports=require("node:buffer")},6005:e=>{"use strict";e.exports=require("node:crypto")},87561:e=>{"use strict";e.exports=require("node:fs")},88849:e=>{"use strict";e.exports=require("node:http")},22286:e=>{"use strict";e.exports=require("node:https")},87503:e=>{"use strict";e.exports=require("node:net")},49411:e=>{"use strict";e.exports=require("node:path")},84492:e=>{"use strict";e.exports=require("node:stream")},41041:e=>{"use strict";e.exports=require("node:url")},47261:e=>{"use strict";e.exports=require("node:util")},65628:e=>{"use strict";e.exports=require("node:zlib")},22037:e=>{"use strict";e.exports=require("os")},71017:e=>{"use strict";e.exports=require("path")},85477:e=>{"use strict";e.exports=require("punycode")},12781:e=>{"use strict";e.exports=require("stream")},71576:e=>{"use strict";e.exports=require("string_decoder")},24404:e=>{"use strict";e.exports=require("tls")},76224:e=>{"use strict";e.exports=require("tty")},57310:e=>{"use strict";e.exports=require("url")},73837:e=>{"use strict";e.exports=require("util")},71267:e=>{"use strict";e.exports=require("worker_threads")},59796:e=>{"use strict";e.exports=require("zlib")},55612:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>o.a,__next_app__:()=>u,originalPathname:()=>p,pages:()=>c,routeModule:()=>x,tree:()=>d}),r(69689),r(97380),r(20784),r(41888);var s=r(23191),i=r(88716),n=r(37922),o=r.n(n),a=r(95231),l={};for(let e in a)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>a[e]);r.d(t,l);let d=["",{children:["test-privy-solana",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,69689)),"/app/frontend/app/test-privy-solana/page.js"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,97380)),"/app/frontend/app/layout.js"],error:[()=>Promise.resolve().then(r.bind(r,20784)),"/app/frontend/app/error.js"],"not-found":[()=>Promise.resolve().then(r.bind(r,41888)),"/app/frontend/app/not-found.js"]}],c=["/app/frontend/app/test-privy-solana/page.js"],p="/test-privy-solana/page",u={require:r,loadChunk:()=>Promise.resolve()},x=new s.AppPageRouteModule({definition:{kind:i.x.APP_PAGE,page:"/test-privy-solana/page",pathname:"/test-privy-solana",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},50714:(e,t,r)=>{Promise.resolve().then(r.bind(r,74636))},41140:(e,t,r)=>{Promise.resolve().then(r.bind(r,60615))},96344:(e,t,r)=>{Promise.resolve().then(r.bind(r,86580)),Promise.resolve().then(r.bind(r,95518))},74372:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,12994,23)),Promise.resolve().then(r.t.bind(r,96114,23)),Promise.resolve().then(r.t.bind(r,9727,23)),Promise.resolve().then(r.t.bind(r,79671,23)),Promise.resolve().then(r.t.bind(r,41868,23)),Promise.resolve().then(r.t.bind(r,84759,23))},35303:()=>{},74636:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>i});var s=r(10326);function i({error:e,reset:t}){return s.jsx("div",{className:"min-h-screen bg-black flex items-center justify-center",children:(0,s.jsxs)("div",{className:"text-center",children:[s.jsx("h1",{className:"text-6xl font-bold text-white mb-4",children:"500"}),s.jsx("h2",{className:"text-2xl text-gray-300 mb-8",children:"Server Error"}),s.jsx("p",{className:"text-gray-400 mb-8",children:"Something went wrong on our end."}),(0,s.jsxs)("div",{className:"space-x-4",children:[s.jsx("button",{onClick:t,className:"bg-purple-600 hover:bg-purple-700 text-white px-6 py-3 rounded-lg transition-colors",children:"Try Again"}),s.jsx("a",{href:"/",className:"bg-gray-600 hover:bg-gray-700 text-white px-6 py-3 rounded-lg transition-colors inline-block",children:"Return Home"})]})]})})}},60615:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a});var s=r(10326),i=r(17577),n=r(49200),o=r(2978);function a(){let{ready:e,authenticated:t,user:r,login:a,logout:l}=(0,n.s)(),{wallets:d}=(0,o.r)(),c=(0,i.useMemo)(()=>d.filter(e=>"solana"===e.chainType),[d]),p=(0,i.useMemo)(()=>c.find(e=>"solana"===e.chainType&&"privy"===e.walletClientType)||c.find(e=>"solana"===e.chainType)||null,[c]),[u,x]=(0,i.useState)(""),[h,g]=(0,i.useState)("");async function m(){if(x(""),g(""),!e)return x("Privy not ready yet.");if(!t)return x("Please sign in first.");if(!p)return x("❌ No Solana wallet found (expected an embedded wallet).");x(`Found Solana wallet: ${p.address} (${p.walletClientType})`);let r=new TextEncoder().encode("TurfLoot Solana Wallet Test");if("function"!=typeof p.signMessage)return x("Wallet does not expose signMessage(). Ensure you are on a recent Privy SDK.");try{let e;let t=await p.signMessage(r);t instanceof Uint8Array?e=Array.from(t).map(e=>e.toString(16).padStart(2,"0")).join(""):e="string"==typeof t?t:String(t),g(e),x("✅ Message signed successfully.")}catch(e){x(`❌ signMessage failed: ${e?.message||e}`)}}let f={padding:"10px 14px",borderRadius:"10px",border:"1px solid #ddd",cursor:"pointer",background:"#111",color:"#fff",fontSize:"14px"},y={...f,background:"#fff",color:"#111"};return(0,s.jsxs)("div",{style:{maxWidth:"820px",margin:"40px auto",padding:"24px",fontFamily:"ui-sans-serif, system-ui"},children:[s.jsx("h1",{style:{color:"#14F195",marginBottom:"8px"},children:"TurfLoot \xd7 Privy \xd7 Solana – Configuration Test"}),s.jsx("p",{style:{opacity:.7,marginBottom:"24px"},children:"This page tests if our Solana-only Privy configuration is working correctly."}),(0,s.jsxs)("section",{style:{marginTop:"12px",padding:"12px",border:"1px solid #eee",borderRadius:"12px",backgroundColor:"#f9f9f9"},children:[s.jsx("h3",{style:{marginTop:0,color:"#333"},children:"Connection Status"}),(0,s.jsxs)("div",{children:[s.jsx("b",{children:"Privy ready:"})," ",String(e)]}),(0,s.jsxs)("div",{children:[s.jsx("b",{children:"Authenticated:"})," ",String(t)]}),(0,s.jsxs)("div",{children:[s.jsx("b",{children:"User ID:"})," ",r?.id||"—"]}),(0,s.jsxs)("div",{children:[s.jsx("b",{children:"Total wallets:"})," ",d.length]}),(0,s.jsxs)("div",{children:[s.jsx("b",{children:"Solana wallets:"})," ",c.length]}),(0,s.jsxs)("div",{style:{marginTop:"10px",display:"flex",gap:"8px",flexWrap:"wrap"},children:[t?s.jsx("button",{onClick:l,style:y,children:"\uD83D\uDD13 Sign out"}):s.jsx("button",{onClick:a,style:f,children:"\uD83D\uDD10 Sign in with Privy"}),s.jsx("button",{onClick:m,style:f,children:"\uD83E\uDDEA Run Solana Wallet Test"})]})]}),(0,s.jsxs)("section",{style:{marginTop:"16px",padding:"12px",border:"1px solid #eee",borderRadius:"12px",backgroundColor:"#f9f9f9"},children:[s.jsx("h3",{style:{marginTop:0,color:"#333"},children:"All Wallets Detected"}),0===d.length?s.jsx("div",{style:{fontStyle:"italic",color:"#666"},children:"— No wallets found —"}):s.jsx("div",{children:d.map((e,t)=>{let r=e.address?.startsWith("0x"),i=p&&e.address===p.address;return(0,s.jsxs)("div",{style:{lineHeight:"1.6",padding:"8px",margin:"4px 0",borderRadius:"6px",backgroundColor:r?"#ffe6e6":"#e6ffe6",border:i?"2px solid #14F195":"1px solid transparent"},children:[(0,s.jsxs)("div",{style:{fontSize:"12px",fontFamily:"monospace",wordBreak:"break-all"},children:[r?"❌ EVM: ":"✅ SOL: ",e.address]}),(0,s.jsxs)("div",{style:{fontSize:"11px",opacity:.8,marginTop:"2px"},children:[s.jsx("b",{children:"Chain:"})," ",e.chainType," | ",s.jsx("b",{children:"Type:"})," ",e.walletClientType,i&&s.jsx("span",{style:{marginLeft:"8px",padding:"2px 6px",borderRadius:"4px",background:"#14F195",color:"white",fontSize:"10px"},children:"DEFAULT"}),r&&s.jsx("span",{style:{marginLeft:"8px",padding:"2px 6px",borderRadius:"4px",background:"#ff4444",color:"white",fontSize:"10px"},children:"SHOULD NOT EXIST!"})]})]},t)})})]}),(0,s.jsxs)("section",{style:{marginTop:"16px",padding:"12px",border:"1px solid #eee",borderRadius:"12px",backgroundColor:"#f9f9f9"},children:[s.jsx("h3",{style:{marginTop:0,color:"#333"},children:"Test Results"}),s.jsx("div",{style:{marginBottom:"8px",padding:"8px",borderRadius:"6px",backgroundColor:u.includes("✅")?"#e6ffe6":u.includes("❌")?"#ffe6e6":"#fff"},children:u||'— Click "Run Solana Wallet Test" to start —'}),h&&(0,s.jsxs)(s.Fragment,{children:[s.jsx("div",{style:{fontWeight:"bold",marginBottom:"4px"},children:"Signature (proves wallet control):"}),s.jsx("textarea",{readOnly:!0,value:h,style:{width:"100%",height:"120px",fontFamily:"monospace",fontSize:"11px",padding:"8px",border:"1px solid #ddd",borderRadius:"4px"}})]})]}),(0,s.jsxs)("section",{style:{marginTop:"16px",padding:"12px",border:"1px solid #14F195",borderRadius:"12px",backgroundColor:"#f0fff8"},children:[s.jsx("h3",{style:{marginTop:0,color:"#14F195"},children:"Expected Results for Correct Configuration:"}),(0,s.jsxs)("ul",{style:{lineHeight:"1.6",color:"#333"},children:[(0,s.jsxs)("li",{children:["✅ ",s.jsx("b",{children:"Only Solana wallets"})," should appear (no EVM/0x addresses)"]}),(0,s.jsxs)("li",{children:["✅ ",s.jsx("b",{children:"Default wallet"})," should be chainType: 'solana', walletClientType: 'privy'"]}),(0,s.jsxs)("li",{children:["✅ ",s.jsx("b",{children:"Signing test"})," should succeed without errors"]}),(0,s.jsxs)("li",{children:["❌ ",s.jsx("b",{children:"If you see EVM wallets"}),", the Privy configuration is still creating them"]})]})]}),(0,s.jsxs)("div",{style:{marginTop:"20px",padding:"12px",backgroundColor:"#f8f8f8",borderRadius:"8px",fontSize:"13px",opacity:.8},children:[s.jsx("b",{children:"Debug Info:"}),s.jsx("br",{}),"• Use a brand new email/account to test first-time user wallet creation",s.jsx("br",{}),"• Check browser console for additional Privy debug logs",s.jsx("br",{}),"• If EVM wallets still appear, check Privy Dashboard settings",s.jsx("br",{}),"• Back to main app: ",s.jsx("a",{href:"/",style:{color:"#14F195"},children:"TurfLoot Home"})]})]})}},86580:(e,t,r)=>{"use strict";r.d(t,{A:()=>o,GameSettingsProvider:()=>a});var s=r(10326),i=r(17577);let n=(0,i.createContext)(),o=()=>{let e=(0,i.useContext)(n);if(!e)throw Error("useGameSettings must be used within a GameSettingsProvider");return e},a=({children:e})=>{let[t,r]=(0,i.useState)({showPingMonitor:!0,showKillFeed:!0,showMinimap:!0,showControls:!0,autoCashOut:!1,autoCashOutThreshold:500,quickCashOut:!0,graphicsQuality:"high",frameRate:"60",particleEffects:!0,smoothCamera:!0,masterVolume:.7,soundEffects:!0,backgroundMusic:!1,showFloatingText:!0,showPlayerNames:!0,showNetWorth:!0,compactUI:!1});return(0,i.useEffect)(()=>{try{let e=localStorage.getItem("turfloot_settings");if(e){let t=JSON.parse(e);r(e=>({...e,...t}))}}catch(e){console.error("Failed to load settings:",e)}},[]),(0,i.useEffect)(()=>{try{localStorage.setItem("turfloot_settings",JSON.stringify(t))}catch(e){console.error("Failed to save settings:",e)}},[t]),s.jsx(n.Provider,{value:{settings:t,updateSetting:(e,t)=>{r(r=>({...r,[e]:t}))},updateMultipleSettings:e=>{r(t=>({...t,...e}))},resetSettings:()=>{r({showPingMonitor:!0,showKillFeed:!0,showMinimap:!0,showControls:!0,autoCashOut:!1,autoCashOutThreshold:500,quickCashOut:!0,graphicsQuality:"high",frameRate:"60",particleEffects:!0,smoothCamera:!0,masterVolume:.7,soundEffects:!0,backgroundMusic:!1,showFloatingText:!0,showPlayerNames:!0,showNetWorth:!0,compactUI:!1})}},children:e})}},95518:(e,t,r)=>{"use strict";r.d(t,{default:()=>l});var s=r(10326),i=r(83962),n=r(17577);class o extends n.Component{constructor(e){super(e),this.state={hasError:!1}}static getDerivedStateFromError(e){return{hasError:!0}}componentDidCatch(e,t){console.error("\uD83D\uDEA8 Privy Error Boundary:",e,t)}render(){return this.state.hasError?(0,s.jsxs)("div",{style:{padding:"20px",textAlign:"center"},children:[s.jsx("h2",{children:"Wallet Service Error"}),s.jsx("p",{children:"Please refresh the page to reconnect your wallet."}),s.jsx("button",{onClick:()=>window.location.reload(),children:"Refresh Page"})]}):this.props.children}}function a({children:e,appId:t,config:r}){let[o,a]=(0,n.useState)(!1);return o?(console.log("\uD83D\uDE80 Initializing Privy with Solana-Only Configuration"),s.jsx(i.P,{appId:t,config:r,children:e})):null}function l({children:e}){let t="cmdycgltk007ljs0bpjbjqx0a";return t?s.jsx(o,{children:s.jsx(a,{appId:t,config:{appearance:{theme:"dark",accentColor:"#14F195",logo:void 0,showWalletLoginFirst:!1},loginMethods:["google","email","wallet"],embeddedWallets:{ethereum:{createOnLogin:"off"},solana:{createOnLogin:"users-without-wallets"}},externalWallets:{solana:{wallets:["phantom","solflare"]}},supportedChains:[{id:101,name:"Solana",network:"mainnet-beta",nativeCurrency:{name:"Solana",symbol:"SOL",decimals:9},rpcUrls:{default:{http:["https://api.mainnet-beta.solana.com"]}}}],solanaClusters:[{name:"mainnet-beta",rpcUrl:"https://api.mainnet-beta.solana.com"}],mfa:{noPromptOnMfaRequired:!1},smartWallets:{enabled:!1},defaultChain:{id:101,name:"Solana"}},children:e})}):(console.error("❌ NEXT_PUBLIC_PRIVY_APP_ID is required"),s.jsx("div",{children:"Error: Privy App ID not configured"}))}},20784:(e,t,r)=>{"use strict";r.r(t),r.d(t,{$$typeof:()=>o,__esModule:()=>n,default:()=>a});var s=r(68570);let i=(0,s.createProxy)(String.raw`/app/frontend/app/error.js`),{__esModule:n,$$typeof:o}=i;i.default;let a=(0,s.createProxy)(String.raw`/app/frontend/app/error.js#default`)},97380:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>b,metadata:()=>f,viewport:()=>y});var s=r(19510),i=r(88001),n=r.n(i),o=r(18850),a=r.n(o);r(67272);var l=r(68570);let d=(0,l.createProxy)(String.raw`/app/frontend/components/providers/GameSettingsProvider.js`),{__esModule:c,$$typeof:p}=d;d.default,(0,l.createProxy)(String.raw`/app/frontend/components/providers/GameSettingsProvider.js#useGameSettings`);let u=(0,l.createProxy)(String.raw`/app/frontend/components/providers/GameSettingsProvider.js#GameSettingsProvider`),x=(0,l.createProxy)(String.raw`/app/frontend/components/providers/PrivyAuthProvider.js`),{__esModule:h,$$typeof:g}=x;x.default;let m=(0,l.createProxy)(String.raw`/app/frontend/components/providers/PrivyAuthProvider.js#default`),f={title:"TurfLoot – Real-time blockchain skill gaming",description:"Compete in skill-based territory battles. Earn real SOL rewards. 100% skill, 0% luck.",metadataBase:new URL(process.env.NEXT_PUBLIC_BASE_URL||"http://localhost:3000"),openGraph:{title:"TurfLoot – Real-time blockchain skill gaming",description:"Compete in skill-based territory battles. Earn real SOL rewards.",images:["/og-image.png"],type:"website"},twitter:{card:"summary_large_image",title:"TurfLoot – Real-time blockchain skill gaming",description:"Compete in skill-based territory battles. Earn real SOL rewards.",images:["/og-image.png"]},manifest:"/manifest.webmanifest",appleWebApp:{capable:!0,statusBarStyle:"black-translucent",title:"TurfLoot"}},y={width:"device-width",initialScale:1,maximumScale:1,userScalable:!1,viewportFit:"cover"};function b({children:e}){return s.jsx("html",{lang:"en",className:`${n().variable} ${a().variable}`,children:s.jsx("body",{className:"min-h-screen bg-[#1E1E1E] text-white antialiased",children:s.jsx(u,{children:s.jsx(m,{children:s.jsx("div",{className:"min-h-screen bg-[#1E1E1E] text-white",children:e})})})})})}},41888:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>i});var s=r(19510);function i(){return s.jsx("div",{className:"min-h-screen bg-black flex items-center justify-center",children:(0,s.jsxs)("div",{className:"text-center",children:[s.jsx("h1",{className:"text-6xl font-bold text-white mb-4",children:"404"}),s.jsx("h2",{className:"text-2xl text-gray-300 mb-8",children:"Page Not Found"}),s.jsx("p",{className:"text-gray-400 mb-8",children:"The page you're looking for doesn't exist."}),s.jsx("a",{href:"/",className:"bg-purple-600 hover:bg-purple-700 text-white px-6 py-3 rounded-lg transition-colors",children:"Return Home"})]})})}},69689:(e,t,r)=>{"use strict";r.r(t),r.d(t,{$$typeof:()=>o,__esModule:()=>n,default:()=>a});var s=r(68570);let i=(0,s.createProxy)(String.raw`/app/frontend/app/test-privy-solana/page.js`),{__esModule:n,$$typeof:o}=i;i.default;let a=(0,s.createProxy)(String.raw`/app/frontend/app/test-privy-solana/page.js#default`)},67272:()=>{},49200:(e,t,r)=>{"use strict";r.d(t,{s:()=>p});var s=r(17577),i=r(44732),n=r(8742),o=r(36032);let a=async({emitPrivyEvent:e,getAccessToken:t,initializeWalletProxy:r,refreshUser:s,user:i},{privateKey:a,chainType:l})=>{if(!i)throw e("linkAccount","onError",o.sX.MUST_BE_AUTHENTICATED,{linkMethod:"siwe"}),new o.dx("User must be authenticated before linking an account.");let[d,c]=await Promise.all([t(),r(15e3)]);if(!c||!d)throw e("linkAccount","onError",o.sX.MUST_BE_AUTHENTICATED,{linkMethod:"siwe"}),new o.dx("User must be authenticated before linking an account.");await c.importWallet({privateKey:a,accessToken:d,chainType:l});let p=await s(),u="solana"===l?(0,n.Ry)(p):(0,n.Nc)(p);if(!u)throw e("createWallet","onError",o.sX.UNKNOWN_EMBEDDED_WALLET_ERROR),Error("Failed to import wallet");return e("createWallet","onSuccess",u),u};var l=r(71139),d=r(89974);let c=()=>{let{getAccessToken:e,user:t}=(0,i.b)(),{refreshUser:r,initializeWalletProxy:n}=(0,d.u)(),o=(0,l.rN)();return{importWallet:(0,s.useCallback)(({privateKey:s})=>a({getAccessToken:e,user:t,initializeWalletProxy:n,refreshUser:r,emitPrivyEvent:o},{privateKey:s,chainType:"ethereum"}),[t,e,r,n,o])}},p=()=>{let{importWallet:e}=c();return{...(0,s.useContext)(i.N),importWallet:e}}}};var t=require("../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[8948,7603],()=>r(55612));module.exports=s})();